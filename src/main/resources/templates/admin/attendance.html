<!-- src/main/resources/templates/admin/attendance.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin || Attendance</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- External Admin CSS -->
  <link rel="stylesheet" th:href="@{/css/admin/attendance.css}">
</head>

<body>
  <div class="d-flex flex-column flex-lg-row min-vh-100">
    <!-- Sidebar -->
    <div class="sidebar text-white p-3 flex-shrink-0" id="sidebar" style="min-width: 230px;">
      <button class="btn btn-outline-light d-lg-none mb-3" id="closeSidebar">
        <i class="bi bi-x-lg"></i>
      </button>
      <h4>EMS</h4>
      <nav class="nav flex-column mt-3">
        <a th:href="@{/admin/dashboard}" class="nav-link text-white"><i class="bi bi-house"></i>Overview</a>
        <a th:href="@{/admin/profile}" class="nav-link text-white"><i class="bi bi-person"></i>Profile</a>
        <a th:href="@{/admin/attendance}" class="nav-link active bg-secondary rounded"><i
            class="bi bi-clock"></i>Attendance</a>
        <a th:href="@{/admin/leave}" class="nav-link text-white"><i class="bi bi-calendar"></i>Leave</a>
        <a th:href="@{/admin/hourlyReports}" class="nav-link text-white"><i class="bi bi-list-check me-2"></i>Hourly
          Reports</a>
        <a th:href="@{/admin/adminNotifications}" class="nav-link text-white"><i
            class="bi bi-bell"></i>Notifications</a>
        <a th:href="@{/logout}" class="nav-link text-white"><i class="bi bi-box-arrow-right"></i>Logout</a>
      </nav>
    </div>
    <!-- Main Content -->
    <div id="content" class="flex-grow-1 main-content">
      <!-- Toggle Button -->
      <button class="btn btn-outline-secondary d-lg-none" id="sidebarToggle">
        <i class="bi bi-list"></i>
      </button>
      <!-- Navbar -->
      <div class="navbar-custom mb-4 d-flex justify-content-between align-items-center">
        <h3><i class="bi bi-list-check me-2"></i> Attendance Overview</h3>
      </div>

      <!-- Filters -->
      <div class="card p-4 shadow-sm">
        <div class="row g-3 align-items-end">
          <!-- Searchable Employee -->
          <div class="col-lg-4 col-md-6 position-relative">
            <label for="employeeSearch" class="fw-semibold">Search Employee By Name</label>
            <input type="text" id="employeeSearch" class="form-control" placeholder="Type employee name...">
            <ul id="employeeSuggestions" class="list-group position-absolute w-100"
              style="z-index: 10; max-height: 200px; overflow-y: auto; display: none;"></ul>
          </div>

          <div class="col-lg-3 col-md-6">
            <label class="fw-semibold">From Date</label>
            <input type="date" id="fromDate" class="form-control">
          </div>

          <div class="col-lg-3 col-md-6">
            <label class="fw-semibold">To Date</label>
            <input type="date" id="toDate" class="form-control">
          </div>

          <div class="col-lg-2 col-md-6 d-flex gap-2">
            <button id="filterBtn" class="btn btn-month w-100"><i class="bi bi-search me-1"></i>Filter</button>
            <button id="pdfBtn" class="btn btn-download w-100"><i class="bi bi-file-earmark-pdf me-1"></i>PDF</button>
          </div>
        </div>
      </div>

      <!-- Attendance Table -->
      <div class="table-container mt-4">
        <table class="table table-bordered text-center align-middle" id="attendanceTable">
          <thead class="table-light">
            <tr>
              <th>Date</th>
              <th>Employee</th>
              <th>Shift</th>
              <th>Check-In</th>
              <th>Break</th>
              <th>Idle Time</th>
              <th>Check-Out</th>
              <th>Total Hours</th>
              <th>Remarks</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="9" class="text-muted">Please select an employee and date range.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
  <!-- External JS -->
  <script th:src="@{/js/attendance.js}"></script>
</body>

</html>